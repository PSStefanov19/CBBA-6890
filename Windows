# include/ dir, obj/ dir and lib/ dir
IDIR=include
ODIR=obj
LDIR=lib

# Compiler options and flags
CC=g++
CCFLAGS=-I$(IDIR) -I$(IDIR)/ncursesw -L$(LDIR)
ERRFLAGS=-Wall -Wunused-variable -Werror

# Put header files here
_DEPS=gameMenu.h mazeGeneration.h
DEPS=$(patsubst %, $(IDIR)/%, $(_DEPS))

# Put cpp files but change extension to .o
_OBJ=main.o gameMenu.o mazeGeneration.o
OBJ=$(patsubst %, $(ODIR)/%, $(_OBJ))

# Libraries
LIBS=-llibncursesw

# Compile .cpp files to .o files
$(ODIR)/%.o: src/%.cpp $(DEPS)
	$(CC) -c -o $@ $< $(CCFLAGS) $(ERRFLAGS)

# Link .o files and make an executable in bin/ folder
main: $(OBJ)
	$(CC) -o bin/$@.exe $^ $(CCFLAGS) $(ERRFLAGS) $(LIBS)